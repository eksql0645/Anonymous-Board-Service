# ğŸš© Anonymous Board

ìµëª…ìœ¼ë¡œ ê²Œì‹œê¸€ì„ ìƒì„±í•˜ê³  ë¹„ë°€ë²ˆí˜¸ë¥¼ í†µí•´ ìˆ˜ì •, ì‚­ì œê°€ ê°€ëŠ¥í•œ ìµëª… ê²Œì‹œíŒì…ë‹ˆë‹¤.

## âœ”ê¸°ëŠ¥ ì„¤ëª…

- ê²Œì‹œíŒì„ ìƒì„±, ì¡°íšŒ, ì „ì²´ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- ê²Œì‹œíŒ ìƒì„± ì‹œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.
- ê²Œì‹œíŒ ìƒì„± ì‹œ ì´ëª¨ì§€ ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- ê²Œì‹œíŒ ìˆ˜ì •, ì‚­ì œ ì‹œ ìƒì„±í•  ë•Œ ë§Œë“  ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.
- ê²Œì‹œíŒ ìƒì„± ì‹œ IPì£¼ì†Œë¥¼ ì°¸ê³ í•˜ì—¬ ë‚ ì”¨ ë°ì´í„°ê°€ ë°˜ì˜ë©ë‹ˆë‹¤.
- ê²Œì‹œíŒ ì „ì²´ ì¡°íšŒ ì‹œ í˜ì´ì§€ ë‹¹ 20ê°œì”© ìµœê·¼ ìˆœìœ¼ë¡œ ì¡°íšŒê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

# âœ… ìš”êµ¬ì‚¬í•­ ë¶„ì„

## âœ” ê²Œì‹œíŒ API êµ¬í˜„

- express-validatorë¥¼ ì‚¬ìš©í•˜ì—¬ ê²Œì‹œíŒì˜ ì œëª©ì€ 20ì, ë³¸ë¬¸ì€ 200ì, ì‘ì„±ìëŠ” 10ì, ë¹„ë°€ë²ˆí˜¸ëŠ” 6~15ìë¡œ ê¸¸ì´ ì œí•œì„ ë‘ì—ˆê³ , ë¹„ë°€ë²ˆí˜¸ì˜ ê²½ìš° ë³´ì•ˆì„ ìœ„í•´ ìˆ«ì, ëŒ€ì†Œë¬¸ì, íŠ¹ìˆ˜ë¬¸ìë¥¼ í¬í•¨í•˜ì˜€ìŠµë‹ˆë‹¤.
- ê²Œì‹œíŒ ìƒì„± ì‹œ ë³´ì•ˆì„ ìœ„í•´ ë¹„ë°€ë²ˆí˜¸ë¥¼ í•´ì‰¬í™”í•˜ì˜€ìŠµë‹ˆë‹¤.
- ê° APIì— ì ì ˆí•œ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í•˜ì˜€ìŠµë‹ˆë‹¤.

## âœ” ì¶”ê°€ê¸°ëŠ¥ êµ¬í˜„ ì„¤ëª…

- sequelizeì˜ offsetê³¼ limitë¥¼ ì‚¬ìš©í•˜ì—¬ í•œ í˜ì´ì§€ ë‹¹ 20ê°œì˜ ê²Œì‹œê¸€ì´ ì¡°íšŒë˜ë„ë¡ êµ¬í˜„í•˜ì˜€ê³ , ìƒì„±ë‚ ì§œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìµœì‹ ìˆœìœ¼ë¡œ ì •ë ¬ì„ í•˜ì˜€ìŠµë‹ˆë‹¤.
- request-promise ëª¨ë“ˆì„ ì‚¬ìš©í•˜ì—¬ ì™¸ë¶€ APIì— ë‚ ì”¨ ë°ì´í„°ë¥¼ ìš”ì²­í•˜ì˜€ìŠµë‹ˆë‹¤.
    - ë‚ ì”¨ ë°ì´í„° ìš”ì²­ ì‹œ í•œê¸€ë¡œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ê³ , ipì£¼ì†Œì— ë”°ë¥¸ ë‚ ì”¨ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

# ğŸ›  ê²Œì‹œíŒ ëª¨ë¸ë§

- ì´ëª¨ì§€ ì‚¬ìš©ì„ ìœ„í•´ charsetì„ utf8mb4ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.

| ì„¤ëª… | í•„ë“œëª… | ë°ì´í„° íƒ€ì… |
| --- | --- | --- |
| id (FK) | id | int |
| ì œëª© | title | varchar(25) |
| ë³¸ë¬¸ | content | varchar(210) |
| ì‘ì„±ì | name | varchar(15) |
| ë¹„ë°€ë²ˆí˜¸ | password | varchar(80) |
| ë‚ ì”¨ | weather | varchar(50) |

## ERD

![image](https://user-images.githubusercontent.com/80232260/188899851-13ae7990-098a-49f4-823e-d49e99c0ae52.png)

- í…Œì´ë¸” ìƒì„± ì¿¼ë¦¬

```jsx
CREATE TABLE `anonymousboard`.`boards` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(25) NOT NULL,
  `content` VARCHAR(210) NOT NULL,
  `name` VARCHAR(15) NOT NULL,
  `password` VARCHAR(80) NOT NULL,
  `weather` VARCHAR(50) NOT NULL,
  `created_at` DATETIME NOT NULL DEFAULT now(),
  `updated_at` DATETIME NOT NULL DEFAULT now(),
  `deleted_at` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COMMENT = 'ìµëª… ê²Œì‹œíŒ';
```

# ğŸ“‘ API ë¬¸ì„œ
npm start í›„ http://localhost:8080/api-docs

Swagger PDF ë¬¸ì„œ 

| ìš”ì²­ | HTTP method | url | req | res | res.status |
| --- | --- | --- | --- | --- | --- |
| ê²Œì‹œê¸€ ì‘ì„± | post | api/posts/ | req.body = title, content, name, password, weather | { id,title,content,name,weather } | 201 |
| ê²Œì‹œê¸€ ì „ì²´ ì¡°íšŒ | get | api/posts/?page | req.query = page | [{ id, title, content, name, weather}, â€¦] | 200 |
| ê²Œì‹œê¸€ ì¡°íšŒ | get | api/posts/:id | req.params = id | { id, title, content, name, weather } | 200 |
| ê²Œì‹œê¸€ ìˆ˜ì • | patch | api/posts/id | req.params = id <br> req.body = title, content, password | { id, title, content, name, weather } | 200 |
| ê²Œì‹œê¸€ ì‚­ì œ | delete | api/posts/:id | req.params = id <br> req.body = password | { message: â€œê²Œì‹œê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.â€ } | 200 |

# ğŸ“œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

- unitTestëŠ” jest / í†µí•© í…ŒìŠ¤íŠ¸ëŠ” superTestë¡œ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.

![image](https://user-images.githubusercontent.com/80232260/188899659-4d1c07b1-6f4a-4dc4-851f-d9d4017b3f8b.png)
![image](https://user-images.githubusercontent.com/80232260/188899676-87434b28-2fb8-4669-9549-d02e9d25961f.png)

# ğŸ’¡ ì»¨ë²¤ì…˜

### âœ” camelCase / PascalCase

- **íŒŒì¼, ìƒì„±ì, ë³€ìˆ˜, ë©”ì„œë“œëª…**ì€ **camelCase**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
- **í´ë˜ìŠ¤ëª…**ì€ **PascalCase**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

### âœ” Lint ê·œì¹™

| ë“¤ì—¬ì“°ê¸° 2ì¹¸ | íƒ­ ì‚¬ìš© x |
| --- | --- |
| double quote ì‚¬ìš©. | commonJS ì‚¬ìš© |
| ë§ˆì§€ë§‰ ì½¤ë§ˆ ì‚¬ìš© | í•œì¤„ ìµœëŒ€ ê¸€ììˆ˜: 80 |
| varëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. | ì„¸ë¯¸ ì½œë¡  ì‚¬ìš©ì„ í—ˆìš©í•©ë‹ˆë‹¤. |

## branchëª…

- ëŒ€ë¬¸ì ê¸ˆì§€ / ì–¸ë”ë°” ê¸ˆì§€
- â€˜-â€™ ì‚¬ìš©
- ì´ˆê¸° ì„¤ì •ì€ master ë¸Œëœì¹˜ì— ì„¤ì •
    - ì´ˆê¸°ì„¤ì •ì—ëŠ” íŒ¨í‚¤ì§€ ì„¤ì¹˜ / DB ì„¤ì • / í´ë”êµ¬ì¡°ê¹Œì§€ í¬í•¨í•œë‹¤.
- ë¸Œëœì¹˜ ë‚˜ëˆ„ê¸° ì „ì— ì´ìŠˆ ìƒì„±í•˜ê¸°
- êµ¬í˜„í•  ê¸°ëŠ¥ë³„/ ë¬¸ì„œ / í…ŒìŠ¤íŠ¸ ë³„ë¡œ ë¸Œëœì¹˜ ë‚˜ëˆ„ê¸°

| ê¸°ëŠ¥ | ë¸Œëœì¹˜ëª… |
| --- | --- |
| ê²Œì‹œê¸€ ìƒì„±  | feature/board-create-post |
| ê²Œì‹œê¸€ ì „ì²´ ì¡°íšŒ | feature/board-get-posts |
| ê²Œì‹œê¸€ ì¡°íšŒ | feature/board-get-post |
| ê²Œì‹œê¸€ ìˆ˜ì • | feature/board-patch-post |
| ê²Œì‹œê¸€ ì‚­ì œ | feature/board-delete-post |
| ê²Œì‹œê¸€ ë‚ ì”¨ ì •ë³´ ì¶”ê°€ | feature/board-add-weather-api |
| ê²Œì‹œê¸€ ì „ì²´ ì¡°íšŒ ì œí•œ ì¶”ê°€ | feature/board-limit-get-posts |
| ê²Œì‹œíŒ í…ŒìŠ¤íŠ¸ | feature/board-test |
| ê²Œì‹œíŒ swagger | feature/board-swagger |
| ê²Œì‹œíŒ refactoring | feature/board-refactoring |

### Issue í˜•ì‹

(ë¸Œëœì¹˜ëª…) | (ì´ìŠˆ ê°„ëµ ì„¤ëª…) / feature/board | create post API

```text
### Issue íƒ€ì…(í•˜ë‚˜ ì´ìƒì˜ Issue íƒ€ì…ì„ ì„ íƒí•´ì£¼ì„¸ìš”)
-[] ê¸°ëŠ¥ ì¶”ê°€
-[] ê¸°ëŠ¥ ì‚­ì œ
-[] ë²„ê·¸ ìˆ˜ì •
-[] ì˜ì¡´ì„±, í™˜ê²½ ë³€ìˆ˜, ë¹Œë“œ ê´€ë ¨ ì½”ë“œ ì—…ë°ì´íŠ¸
-[] í…ŒìŠ¤íŠ¸ ì¶”ê°€
-[] ë¦¬íŒ©í† ë§

### ìƒì„¸ ë‚´ìš©
ex) Github ì†Œì…œ ë¡œê·¸ì¸ ê¸°ëŠ¥ì´ í•„ìš”í•©ë‹ˆë‹¤.

### ì°¸ê³  ì‚¬í•­
```

### âœ” Git commit

![image](https://user-images.githubusercontent.com/80232260/188366205-84d8a796-3c51-4eb0-bb29-3a61c96bb047.png)

[ê¹ƒ ì»¤ë°‹ ì»¨ë²¤ì…˜ ì°¸ê³  ì‚¬ì´íŠ¸](https://overcome-the-limits.tistory.com/entry/í˜‘ì—…-í˜‘ì—…ì„-ìœ„í•œ-ê¸°ë³¸ì ì¸-git-ì»¤ë°‹ì»¨ë²¤ì…˜-ì„¤ì •í•˜ê¸°)

# ğŸ—‚ í´ë” êµ¬ì¡°

![image](https://user-images.githubusercontent.com/80232260/188899630-7df2b30f-36a9-4a0e-bfbc-b1ac09576950.png)

# âš™ íŒ¨í‚¤ì§€

```json
{
  "name": "anonnymousboard",
  "version": "1.0.0",
  "description": "ìµëª…ê²Œì‹œíŒ",
  "main": "server.js",
  "scripts": {
    "test": "jest",
    "start": "nodemon server.js",
    "coverage": "jest --coverage"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/eksql0645/Anonymous-Board-Service.git"
  },
  "author": "jks",
  "license": "ISC",
  "bugs": {
    "url": "https://github.com/eksql0645/Anonymous-Board-Service/issues"
  },
  "homepage": "https://github.com/eksql0645/Anonymous-Board-Service#readme",
  "dependencies": {
    "bcrypt": "^5.0.1",
    "cors": "^2.8.5",
    "express": "^4.18.1",
    "express-validator": "^6.14.2",
    "morgan": "^1.10.0",
    "mysql2": "^2.3.3",
    "request-promise": "^4.2.6",
    "sequelize": "^6.21.4"
  },
  "devDependencies": {
    "@babel/eslint-parser": "^7.18.9",
    "dotenv": "^16.0.2",
    "eslint": "^8.23.0",
    "eslint-config-prettier": "^8.5.0",
    "eslint-plugin-prettier": "^4.2.1",
    "jest": "^29.0.2",
    "node-mocks-http": "^1.11.0",
    "nodemon": "^2.0.19",
    "prettier": "^2.7.1",
    "sequelize-cli": "^6.4.1",
    "should": "^13.2.3",
    "supertest": "^6.2.4",
    "swagger-jsdoc": "^6.2.5",
    "swagger-ui-express": "^4.5.0"
  }
}
```

# âš¡ ê¸°ìˆ  ìŠ¤íƒ
<img src="https://img.shields.io/badge/node.js-339933?style=for-the-badge&logo=Node.js&logoColor=white"> <img src="https://img.shields.io/badge/express-FCC624?style=for-the-badge&logo=express&logoColor=white"> <img src="https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white">
<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white"> <img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white"> <img src="https://img.shields.io/badge/Sequelize-007396?style=for-the-badge&logo=Sequelize&logoColor=white">
<img src="https://img.shields.io/badge/Swagger-61DAFB?style=for-the-badge&logo=Swagger&logoColor=white"> <img src="https://img.shields.io/badge/Jest-F8DC75?style=for-the-badge&logo=Jest&logoColor=white">

# âœ‹ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
- unit testë¥¼ í•  ë•Œ jestë¥¼ ë°°ì›Œë³´ê³  ì‹¶ì–´ ì‚¬ìš©í•˜ì˜€ëŠ”ë° ì²˜ìŒ ì‚¬ìš©í•˜ë‹¤ë³´ë‹ˆ ë§ì´ í—¤ë§¸ìŠµë‹ˆë‹¤.
  - mockingí•¨ìˆ˜ë¥¼ ë§Œë“¤ê³  ì˜ˆìƒ ê²°ê³¼ë¡œ ì‚¬ìš©í•˜ì˜€ëŠ”ë° ê³„ì† í…ŒìŠ¤íŠ¸ì— ì‹¤íŒ¨í–ˆê³  ì•Œê³ ë³´ë‹ˆ ìš”ì²­ì„ ë³´ë‚¸ ë°ì´í„°ê°€ ì˜ëª»ë˜ì—ˆê¸° ë•Œë¬¸ì´ì—ˆìŠµë‹ˆë‹¤.
  - ì½”ë“œë¥¼ ì°¨ê·¼ì°¨ê·¼ í•˜ë‚˜ì”© ëœ¯ì–´ë³´ë©´ì„œ í’€ì–´ê°”ìŠµë‹ˆë‹¤.
  - ì´ì™¸ì—ë„ ë” ìì„¸í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ë ¤í–ˆìœ¼ë‚˜ ì›í•˜ëŠ” ë©”ì„œë“œë¥¼ ì°¾ì§€ ëª»í–ˆê¸° ë•Œë¬¸ì— êµ¬ì²´ì ì¸ ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ í•˜ì§€ ëª»í•œ ê²ƒì´ ì•„ì‰¬ì› ìŠµë‹ˆë‹¤.
- ì™¸ë¶€ APIì— ìš”ì²­ì„ í†µí•´ ë‚ ì”¨ ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ”ë° request ëª¨ë“ˆì´ë€ ê²ƒì´ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê³  ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
  - ì²˜ìŒì— request ëª¨ë“ˆì„ ì‚¬ìš©í•˜ì—¬ promiseë¡œ ê°’ì„ ë¦¬í„´í•˜ì˜€ëŠ”ë° ê³„ì† ì—ëŸ¬ê°€ ë‚¬ê³  êµ¬ê¸€ë§ì„ í†µí•´ request-promiseê°€ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì–´ ì‚¬ìš©í•˜ë©´ì„œ í•´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.
- ê° APIì— ë”°ë¼ ìƒíƒœì½”ë“œë¥¼ ì–´ë–»ê²Œ ë³´ë‚´ì•¼ í• ì§€ ê³ ë¯¼í•˜ì˜€ìŠµë‹ˆë‹¤.
  - ê²Œì‹œê¸€ ì¡°íšŒì‹œì™€ ìˆ˜ì •, ì‚­ì œ ì‹œ ê²Œì‹œê¸€ì´ ì—†ë‹¤ë©´ 400ë²ˆ ì—ëŸ¬ì½”ë“œë¥¼ ë³´ë‚´ì•¼ í•  ì§€ 200ë²ˆ ì •ìƒ ì½”ë“œë¥¼ ë³´ë‚´ì•¼ í•  ì§€ê°€ ê°€ì¥ ê³ ë¯¼ì´ ë˜ì—ˆëŠ”ë°, ê²Œì‹œê¸€ ì¡°íšŒì˜ ê²½ìš°ëŠ” í´ë¼ì´ì–¸íŠ¸ ìª½ì—ì„œ ì •ìƒì ìœ¼ë¡œ ìš”ì²­ì„ ë³´ëƒˆê¸° ë•Œë¬¸ì— 200ë²ˆ ì½”ë“œë¥¼ ë³´ë‚´ëŠ”ê²Œ ë§ë‹¤ê³  ìƒê°í•˜ì˜€ê³ , ê²Œì‹œê¸€ ìˆ˜ì •, ì‚­ì œ ì‹œì—ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²Œì‹œê¸€ì— ëŒ€í•´ ì‚¬ìš©ìê°€ ìš”ì²­ì„ ë³´ëƒˆê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ ìª½ ìš”ì²­ì´ ì˜ëª»ë˜ì—ˆë‹¤ê³  íŒë‹¨í•˜ì—¬ 400ë²ˆ ì—ëŸ¬ë¥¼ ë³´ë‚´ê¸°ë¡œ ê²°ì •í•˜ì˜€ìŠµë‹ˆë‹¤. 
